Sources used in the creation of this code (in no order):  
https://phoenixnap.com/kb/bash-wait-command

https://unix.stackexchange.com/questions/3568/how-to-switch-between-users-on-one-terminal

https://docs.ansible.com/ansible/latest/collections/ansible/windows/win_reboot_module.html

https://www.ntweekly.com/2020/10/15/join-a-windows-machine-to-active-directory-with-ansible/

https://www.reddit.com/r/ansible/comments/gpoyta/create_win_domain_add_user_to_group/

https://docs.ansible.com/ansible/latest/user_guide/become.html

https://docs.ansible.com/ansible/latest/user_guide/intro_patterns.html

https://galaxy.ansible.com/ansible/windows

https://docs.ansible.com/ansible/latest/collections/ansible/windows/win_domain_membership_module.html

https://docs.ansible.com/ansible/latest/collections/ansible/windows/win_domain_membership_module.html

https://docs.ansible.com/ansible/2.9/modules/win_feature_module.html#win-feature-module

https://docs.ansible.com/ansible/2.9/modules/win_domain_user_module.html#win-domain-user-module

https://docs.ansible.com/ansible/2.9/modules/win_domain_computer_module.html#win-domain-computer-module

https://docs.ansible.com/ansible/2.9/modules/win_domain_module.html#win-domain-module

https://www.dell.com/support/kbdoc/en-us/000121955/installing-active-directory-domain-services-and-promoting-the-server-to-a-domain-controller

https://askubuntu.com/questions/294736/run-a-shell-script-as-another-user-that-has-no-password